---
title: User Management - Complete Admin Control
description: Master user management with bulk operations, advanced filters, analytics, ban/suspend flows, and GDPR compliance. Build production-ready admin tools.
---

# Disclaimer

:::u-alert
---
title: Comments in the code are for educational purposes only.
description: In real projects, avoid adding irrelevant or redundant comments.
color: warning
variant: subtle
icon: i-lucide-triangle-alert
---
:::

User management allows admins to view all users, change roles, ban users, and review activity.

---

## User Management Page

```tsx
// src/pages/admin/UserManagementPage.tsx

import { useState, useEffect } from 'react'
import { apiClient } from '@/lib/api-client'

interface User {
  id: string
  username: string
  email: string
  role: 'user' | 'moderator' | 'admin'
  isBanned: boolean
  createdAt: string
  threadCount: number
  postCount: number
}

export function UserManagementPage() {
  const [users, setUsers] = useState<User[]>([])
  const [isLoading, setIsLoading] = useState(true)
  const [searchQuery, setSearchQuery] = useState('')

  useEffect(() => {
    fetchUsers()
  }, [])

  const fetchUsers = async () => {
    try {
      const response = await apiClient.get<User[]>('/admin/users')
      setUsers(response.data)
    } finally {
      setIsLoading(false)
    }
  }

  const handleRoleChange = async (userId: string, newRole: string) => {
    try {
      await apiClient.put(`/admin/users/${userId}/role`, { role: newRole })
      setUsers(users.map(u => u.id === userId ? { ...u, role: newRole } : u))
    } catch (error) {
      // Handle error
    }
  }

  const handleBan = async (userId: string) => {
    try {
      await apiClient.post(`/admin/users/${userId}/ban`)
      setUsers(users.map(u => u.id === userId ? { ...u, isBanned: true } : u))
    } catch (error) {
      // Handle error
    }
  }

  const filteredUsers = users.filter(u =>
    u.username.toLowerCase().includes(searchQuery.toLowerCase()) ||
    u.email.toLowerCase().includes(searchQuery.toLowerCase())
  )

  return (
    <div className="container mx-auto px-4 py-8">
      <h1 className="text-3xl font-bold mb-8">User Management</h1>

      <input
        type="text"
        value={searchQuery}
        onChange={(e) => setSearchQuery(e.target.value)}
        placeholder="Search users..."
        className="w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg mb-6"
      />

      <div className="bg-slate-900 rounded-lg border border-slate-800 overflow-hidden">
        <table className="w-full">
          <thead className="bg-slate-800">
            <tr>
              <th className="px-4 py-3 text-left">Username</th>
              <th className="px-4 py-3 text-left">Email</th>
              <th className="px-4 py-3 text-left">Role</th>
              <th className="px-4 py-3 text-left">Activity</th>
              <th className="px-4 py-3 text-left">Status</th>
              <th className="px-4 py-3 text-left">Actions</th>
            </tr>
          </thead>
          <tbody>
            {filteredUsers.map(user => (
              <tr key={user.id} className="border-t border-slate-800">
                <td className="px-4 py-3">{user.username}</td>
                <td className="px-4 py-3">{user.email}</td>
                <td className="px-4 py-3">
                  <select
                    value={user.role}
                    onChange={(e) => handleRoleChange(user.id, e.target.value)}
                    className="px-2 py-1 bg-slate-800 border border-slate-700 rounded"
                  >
                    <option value="user">User</option>
                    <option value="moderator">Moderator</option>
                    <option value="admin">Admin</option>
                  </select>
                </td>
                <td className="px-4 py-3">
                  {user.threadCount} threads, {user.postCount} posts
                </td>
                <td className="px-4 py-3">
                  {user.isBanned ? (
                    <span className="px-2 py-1 bg-red-600 text-white rounded text-xs">
                      Banned
                    </span>
                  ) : (
                    <span className="px-2 py-1 bg-green-600 text-white rounded text-xs">
                      Active
                    </span>
                  )}
                </td>
                <td className="px-4 py-3">
                  {!user.isBanned && (
                    <button
                      onClick={() => handleBan(user.id)}
                      className="px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700"
                    >
                      Ban
                    </button>
                  )}
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  )
}
```

---

## Bulk Operations

```tsx
// src/components/admin/BulkActions.tsx

export function BulkActions() {
  const [selectedUsers, setSelectedUsers] = useState<string[]>([])
  const [action, setAction] = useState('')

  const handleBulkAction = async () => {
    switch (action) {
      case 'ban':
        await apiClient.post('/admin/users/bulk-ban', { userIds: selectedUsers })
        break
      case 'delete':
        await apiClient.post('/admin/users/bulk-delete', { userIds: selectedUsers })
        break
      case 'export':
        await exportUsers(selectedUsers)
        break
    }
    setSelectedUsers([])
  }

  return (
    <div className="flex items-center gap-4 mb-4">
      <span className="text-sm text-slate-400">
        {selectedUsers.length} selected
      </span>
      
      <select
        value={action}
        onChange={(e) => setAction(e.target.value)}
        className="px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg"
      >
        <option value="">Select action...</option>
        <option value="ban">Ban users</option>
        <option value="delete">Delete users</option>
        <option value="export">Export data</option>
      </select>
      
      <button
        onClick={handleBulkAction}
        disabled={!action || selectedUsers.length === 0}
        className="px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50"
      >
        Apply
      </button>
    </div>
  )
}
```

---

## Advanced Filters

```tsx
// src/components/admin/UserFilters.tsx

export function UserFilters({ onFilterChange }) {
  const [filters, setFilters] = useState({
    role: 'all',
    status: 'all',
    registeredAfter: '',
    minThreads: 0,
  })

  return (
    <div className="grid grid-cols-4 gap-4 mb-6">
      <select
        value={filters.role}
        onChange={(e) => {
          const newFilters = { ...filters, role: e.target.value }
          setFilters(newFilters)
          onFilterChange(newFilters)
        }}
        className="px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg"
      >
        <option value="all">All Roles</option>
        <option value="user">Users</option>
        <option value="moderator">Moderators</option>
        <option value="admin">Admins</option>
      </select>

      <select
        value={filters.status}
        onChange={(e) => {
          const newFilters = { ...filters, status: e.target.value }
          setFilters(newFilters)
          onFilterChange(newFilters)
        }}
        className="px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg"
      >
        <option value="all">All Status</option>
        <option value="active">Active</option>
        <option value="banned">Banned</option>
        <option value="suspended">Suspended</option>
      </select>

      <input
        type="date"
        value={filters.registeredAfter}
        onChange={(e) => {
          const newFilters = { ...filters, registeredAfter: e.target.value }
          setFilters(newFilters)
          onFilterChange(newFilters)
        }}
        className="px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg"
        placeholder="Registered after..."
      />

      <input
        type="number"
        value={filters.minThreads}
        onChange={(e) => {
          const newFilters = { ...filters, minThreads: parseInt(e.target.value) }
          setFilters(newFilters)
          onFilterChange(newFilters)
        }}
        className="px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg"
        placeholder="Min threads..."
      />
    </div>
  )
}
```

---

## User Analytics

```tsx
// src/components/admin/UserAnalytics.tsx

export function UserAnalytics({ userId }: { userId: string }) {
  const [analytics, setAnalytics] = useState(null)

  useEffect(() => {
    fetchAnalytics()
  }, [userId])

  const fetchAnalytics = async () => {
    const response = await apiClient.get(`/admin/users/${userId}/analytics`)
    setAnalytics(response.data)
  }

  if (!analytics) return <div>Loading...</div>

  return (
    <div className="grid grid-cols-2 gap-4">
      <div className="p-4 bg-slate-900 rounded-lg">
        <h3 className="text-sm font-medium text-slate-400 mb-2">Activity Score</h3>
        <p className="text-3xl font-bold">{analytics.activityScore}</p>
        <p className="text-xs text-slate-500 mt-1">
          Based on posts, threads, and engagement
        </p>
      </div>

      <div className="p-4 bg-slate-900 rounded-lg">
        <h3 className="text-sm font-medium text-slate-400 mb-2">Reputation</h3>
        <p className="text-3xl font-bold">{analytics.reputation}</p>
        <p className="text-xs text-slate-500 mt-1">
          Upvotes minus downvotes
        </p>
      </div>

      <div className="p-4 bg-slate-900 rounded-lg">
        <h3 className="text-sm font-medium text-slate-400 mb-2">Reports Received</h3>
        <p className="text-3xl font-bold text-red-400">{analytics.reportsReceived}</p>
      </div>

      <div className="p-4 bg-slate-900 rounded-lg">
        <h3 className="text-sm font-medium text-slate-400 mb-2">Last Active</h3>
        <p className="text-sm">{formatDistanceToNow(new Date(analytics.lastActiveAt))}</p>
      </div>
    </div>
  )
}
```

---

## Ban/Suspend Flows

```tsx
// src/components/admin/BanUserModal.tsx

export function BanUserModal({ user, onClose, onSuccess }) {
  const [reason, setReason] = useState('')
  const [duration, setDuration] = useState<'permanent' | 'temporary'>('permanent')
  const [days, setDays] = useState(7)

  const handleBan = async () => {
    await apiClient.post(`/admin/users/${user.id}/ban`, {
      reason,
      duration: duration === 'permanent' ? null : days,
    })
    onSuccess()
    onClose()
  }

  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center">
      <div className="bg-slate-900 p-6 rounded-lg max-w-md w-full">
        <h2 className="text-2xl font-bold mb-4">Ban User: {user.username}</h2>

        <div className="space-y-4">
          <div>
            <label className="block text-sm font-medium mb-2">Reason</label>
            <textarea
              value={reason}
              onChange={(e) => setReason(e.target.value)}
              rows={4}
              className="w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg"
              placeholder="Explain why this user is being banned..."
            />
          </div>

          <div>
            <label className="block text-sm font-medium mb-2">Duration</label>
            <select
              value={duration}
              onChange={(e) => setDuration(e.target.value as any)}
              className="w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg"
            >
              <option value="permanent">Permanent</option>
              <option value="temporary">Temporary</option>
            </select>
          </div>

          {duration === 'temporary' && (
            <div>
              <label className="block text-sm font-medium mb-2">Days</label>
              <input
                type="number"
                value={days}
                onChange={(e) => setDays(parseInt(e.target.value))}
                className="w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg"
              />
            </div>
          )}

          <div className="flex gap-2">
            <button
              onClick={handleBan}
              className="flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"
            >
              Ban User
            </button>
            <button
              onClick={onClose}
              className="px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  )
}
```

---

## GDPR Data Export

```tsx
// src/utils/gdpr-export.ts

export async function exportUserData(userId: string) {
  const response = await apiClient.get(`/admin/users/${userId}/export`)
  const data = response.data

  // Create JSON file
  const blob = new Blob([JSON.stringify(data, null, 2)], {
    type: 'application/json',
  })

  // Download file
  const url = URL.createObjectURL(blob)
  const a = document.createElement('a')
  a.href = url
  a.download = `user-${userId}-data.json`
  a.click()
  URL.revokeObjectURL(url)
}

// Export includes:
// - User profile
// - All threads created
// - All posts created
// - All comments
// - Activity history
// - Settings
```

---

## Summary

### Key Features

1. **Bulk Operations**: Ban, delete, export multiple users
2. **Advanced Filters**: Role, status, date, activity
3. **User Analytics**: Activity score, reputation, reports
4. **Ban/Suspend**: Temporary or permanent with reasons
5. **GDPR Compliance**: Data export functionality

---

Next: [Moderation Queue â†’](/en/react/8.admin-module/3.moderation-queue)
