---
title: Building the App Shell - Layout & Navigation
description: Build a production-ready forum layout with responsive navbar, sidebar, and routing structure. Learn layout patterns, component composition, and responsive design.
---

# Disclaimer

:::u-alert
---
title: Comments in the code are for educational purposes only.
description: In real projects, avoid adding irrelevant or redundant comments.
color: warning
variant: subtle
icon: i-lucide-triangle-alert
---
:::

Before building features, we need the **app shell** - the layout that wraps all pages. This includes the navbar, sidebar, footer, and routing structure.

---

## React Fundamentals: Essential Concepts

Before diving into the app shell, let's review the React concepts we'll use throughout this section.

### What is React?

**React** is a JavaScript library for building user interfaces with **components**.

**Key idea**: UI is a function of state.

```
State â†’ Component â†’ UI
```

When state changes, React re-renders the component and updates the UI.

### Components: Building Blocks

A **component** is a JavaScript function that returns JSX (UI).

```tsx
// Simple component
function Welcome() {
  return <h1>Welcome to our forum!</h1>
}

// Component with props
function Greeting({ name }) {
  return <h1>Hello, {name}!</h1>
}

// Usage
<Welcome />
<Greeting name="Alice" />
```

### JSX: HTML in JavaScript

**JSX** looks like HTML but it's JavaScript.

```tsx
// JSX
const element = <h1>Hello</h1>

// Compiles to JavaScript
const element = React.createElement('h1', null, 'Hello')
```

**JSX rules:**
- âœ… Return single element (wrap in `<>` if needed)
- âœ… Use `className` instead of `class`
- âœ… Use `htmlFor` instead of `for`
- âœ… Close all tags (`<img />` not `<img>`)
- âœ… Use `{}` for JavaScript expressions

### Props: Passing Data

**Props** are how components communicate. Data flows **downward** from parent to child.

```tsx
// Parent
function App() {
  return <Greeting name="Alice" age={30} />
}

// Child receives props
function Greeting({ name, age }) {
  return <p>{name} is {age} years old</p>
}
```

**Props are read-only** - you can't modify them inside the component.

### useState: Adding State

**State** is data that changes over time. When state changes, React re-renders the component.

```tsx
import { useState } from 'react'

function Counter() {
  const [count, setCount] = useState(0)
  
  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        Increment
      </button>
    </div>
  )
}
```

**State vs Props:**
- **Props**: Data from parent (read-only)
- **State**: Data that changes (mutable via setState)

### Conditional Rendering

Show/hide elements based on conditions.

```tsx
function LoginButton() {
  const [isLoggedIn, setIsLoggedIn] = useState(false)
  
  return (
    <button>
      {isLoggedIn ? 'Sign Out' : 'Sign In'}
    </button>
  )
}
```

### React Router: Navigation

**React Router** enables multi-page navigation without full page reloads.

```tsx
import { BrowserRouter, Routes, Route, Link } from 'react-router-dom'

function App() {
  return (
    <BrowserRouter>
      <nav>
        <Link to="/">Home</Link>
        <Link to="/about">About</Link>
      </nav>
      
      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route path="/about" element={<AboutPage />} />
      </Routes>
    </BrowserRouter>
  )
}
```

**Key concepts:**
- `<BrowserRouter>`: Enables routing
- `<Routes>`: Container for routes
- `<Route>`: Maps URL to component
- `<Link>`: Navigation without page reload
- `<Outlet>`: Where child routes render (used in layouts)

### Component Composition

Build complex UIs by composing simple components.

```tsx
function Navbar() {
  return <nav>Navigation</nav>
}

function Sidebar() {
  return <aside>Sidebar</aside>
}

function Layout() {
  return (
    <div>
      <Navbar />
      <Sidebar />
      <main>Content</main>
    </div>
  )
}
```

---

## What is an App Shell?

The **app shell** is the minimal HTML, CSS, and JavaScript required to power the user interface. It's the frame that stays consistent across pages while content changes.

**Think of it like a building:**
- **Foundation**: Routing (React Router)
- **Frame**: Layout components (Navbar, Sidebar, Footer)
- **Rooms**: Page content (Categories, Threads, Posts)

**Benefits:**
- Consistent UX across all pages
- Load once, reuse everywhere
- Easy to maintain (change navbar once, affects all pages)
- Performance (layout doesn't re-render on navigation)

---

## Design Analysis from Mockups

Looking at our forum design, we have:

### Public Pages Layout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Navbar (Logo, Links, Search, Profile)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Sidebar â”‚        Main Content           â”‚
â”‚ (Filtersâ”‚       (Threads List)          â”‚
â”‚  Categories) â”‚                           â”‚
â”‚         â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Thread Detail Layout  
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Navbar                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Breadcrumbs (Home > Category > Thread)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Thread Content                 â”‚
â”‚           Posts & Replies                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Layout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin Navbar (Dashboard, Users, etc.)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Admin Content                  â”‚
â”‚        (Manage Categories, etc.)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Layout Components Hierarchy

```tsx
App
â”œâ”€ PublicLayout
â”‚  â”œâ”€ Navbar
â”‚  â”œâ”€ Sidebar (optional, route-dependent)
â”‚  â”œâ”€ Main Content (Outlet)
â”‚  â””â”€ Footer
â”œâ”€ AdminLayout
â”‚  â”œâ”€ AdminNavbar
â”‚  â””â”€ Admin Content (Outlet)
â””â”€ AuthLayout (centered, no nav)
   â””â”€ Auth Form (Outlet)
```

---

## React Router: App Structure

```tsx
// src/App.tsx

import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom'
import { PublicLayout } from '@/layouts/PublicLayout'
import { AdminLayout } from '@/layouts/AdminLayout'
import { AuthLayout } from '@/layouts/AuthLayout'

/**
 * App component - Root of our application
 * 
 * Sets up routing structure with nested layouts.
 * Each layout wraps multiple pages.
 */
export function App() {
  return (
    <BrowserRouter>
      <Routes>
        {/* Public routes with PublicLayout */}
        <Route element={<PublicLayout />}>
          <Route index element={<HomePage />} />
          <Route path="categories" element={<CategoriesPage />} />
          <Route path="categories/:slug" element={<CategoryDetailPage />} />
          <Route path="threads" element={<ThreadsPage />} />
          <Route path="threads/:slug" element={<ThreadDetailPage />} />
          <Route path="leaderboard" element={<LeaderboardPage />} />
        </Route>

        {/* Auth routes with AuthLayout (centered, no navbar) */}
        <Route element={<AuthLayout />}>
          <Route path="sign-in" element={<SignInPage />} />
          <Route path="sign-up" element={<SignUpPage />} />
        </Route>

        {/* Admin routes with AdminLayout */}
        <Route path="admin" element={<AdminLayout />}>
          <Route index element={<Navigate to="/admin/dashboard" replace />} />
          <Route path="dashboard" element={<AdminDashboard />} />
          <Route path="categories" element={<ManageCategoriesPage />} />
          <Route path="users" element={<ManageUsersPage />} />
          <Route path="settings" element={<AdminSettingsPage />} />
        </Route>

        {/* 404 Not Found */}
        <Route path="*" element={<NotFoundPage />} />
      </Routes>
    </BrowserRouter>
  )
}
```

---

## PublicLayout: Main Forum Layout

```tsx
// src/layouts/PublicLayout.tsx

import { Outlet, useLocation } from 'react-router-dom'
import { Navbar } from '@/components/layout/Navbar'
import { Sidebar } from '@/components/layout/Sidebar'
import { Footer } from '@/components/layout/Footer'

/**
 * PublicLayout - Layout for public forum pages
 * 
 * Components:
 * - Navbar: Top navigation bar
 * - Sidebar: Left sidebar (only on certain routes)
 * - Outlet: Where child routes render
 * - Footer: Bottom footer
 * 
 * The Outlet component is where React Router renders the child route's component.
 */
export function PublicLayout() {
  const location = useLocation()

  /**
   * Determine if sidebar should be shown
   * 
   * Show sidebar on:
   * - /threads (threads list with filters)
   * - / (homepage with categories sidebar)
   * 
   * Hide sidebar on:
   * - /threads/:slug (thread detail - full width for readability)
   * - /categories (categories grid needs full width)
   */
  const showSidebar = 
    location.pathname === '/' ||
    location.pathname === '/threads'

  return (
    <div className="min-h-screen bg-slate-950 text-slate-100 flex flex-col">
      {/* Navbar - Fixed at top */}
      <Navbar />

      {/* Main content area */}
      <div className="flex-1 flex">
        {/* Sidebar - Conditionally rendered */}
        {showSidebar && (
          <aside className="hidden lg:block w-64 border-r border-slate-800 p-4">
            <Sidebar />
          </aside>
        )}

        {/* Main content - Outlet renders child routes here */}
        <main className="flex-1">
          {/**
           * Outlet is where child route components render
           * 
           * Example: On /threads, ThreadsPage renders here
           */}
          <Outlet />
        </main>
      </div>

      {/* Footer */}
      <Footer />
    </div>
  )
}
```

### Understanding Outlet

**Outlet** is React Router's way of rendering child routes.

```tsx
// In App.tsx
<Route element={<PublicLayout />}>
  <Route path="threads" element={<ThreadsPage />} />
</Route>

// PublicLayout renders:
<div>
  <Navbar />
  <Outlet />  {/* ThreadsPage renders HERE */}
  <Footer />
</div>
```

**Visual:**
```
User visits /threads
  â†’ React Router matches Route
  â†’ Renders PublicLayout
  â†’ PublicLayout has <Outlet />
  â†’ Outlet renders ThreadsPage
  â†’ Final DOM:
     <Navbar />
     <ThreadsPage />
     <Footer />
```

---

## Navbar Component

```tsx
// src/components/layout/Navbar.tsx

import { Link, useNavigate } from 'react-router-dom'
import { useState } from 'react'
import { useAuth } from '@/features/auth/hooks/useAuth'

/**
 * Navbar - Top navigation bar
 * 
 * Features:
 * - Logo + brand name
 * - Navigation links (Home, Threads, Categories, etc.)
 * - Search bar
 * - Notifications icon
 * - User menu (avatar + dropdown)
 * - Responsive: Hamburger menu on mobile
 */
export function Navbar() {
  const { user, isAuthenticated } = useAuth()
  const navigate = useNavigate()
  const [searchQuery, setSearchQuery] = useState('')

  /**
   * Handle search submission
   */
  const handleSearch = (e: React.FormEvent) => {
    e.preventDefault()
    if (searchQuery.trim()) {
      navigate(`/search?q=${encodeURIComponent(searchQuery)}`)
    }
  }

  return (
    <nav className="sticky top-0 z-50 bg-slate-900/95 backdrop-blur border-b border-slate-800">
      <div className="container mx-auto px-4">
        <div className="flex items-center justify-between h-16">
          {/* Logo + Brand */}
          <div className="flex items-center gap-8">
            {/* Logo */}
            <Link to="/" className="flex items-center gap-2">
              <div className="text-2xl">ğŸ’¬</div>
              <span className="text-xl font-bold text-slate-100">Forum</span>
            </Link>

            {/* Navigation Links - Hidden on mobile */}
            <div className="hidden md:flex items-center gap-6">
              <NavLink to="/">Home</NavLink>
              <NavLink to="/threads">Threads</NavLink>
              <NavLink to="/categories">Categories</NavLink>
              <NavLink to="/leaderboard">Leaderboard</NavLink>
            </div>
          </div>

          {/* Right side: Search + User */}
          <div className="flex items-center gap-4">
            {/* Search Bar */}
            <form onSubmit={handleSearch} className="hidden md:block">
              <div className="relative">
                <input
                  type="text"
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                  placeholder="Search..."
                  className="w-64 px-4 py-2 pl-10 bg-slate-800 border border-slate-700 rounded-lg text-slate-100 placeholder-slate-500 focus:outline-none focus:border-blue-500"
                />
                <div className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">
                  ğŸ”
                </div>
              </div>
            </form>

            {isAuthenticated ? (
              <>
                {/* Notifications */}
                <button className="relative p-2 text-slate-400 hover:text-slate-200">
                  ğŸ””
                  {/* Notification badge */}
                  <span className="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full" />
                </button>

                {/* User Avatar + Dropdown */}
                <UserMenu user={user!} />
              </>
            ) : (
              /* Auth buttons for guests */
              <div className="flex items-center gap-2">
                <Link
                  to="/sign-in"
                  className="px-4 py-2 text-slate-200 hover:text-white"
                >
                  Sign In
                </Link>
                <Link
                  to="/sign-up"
                  className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
                >
                  Sign Up
                </Link>
              </div>
            )}
          </div>
        </div>
      </div>
    </nav>
  )
}

/**
 * NavLink - Active link with highlight
 */
function NavLink({ to, children }: { to: string; children: React.ReactNode }) {
  const location = useLocation()
  const isActive = location.pathname === to

  return (
    <Link
      to={to}
      className={`text-sm font-medium transition-colors ${
        isActive
          ? 'text-slate-100'
          : 'text-slate-400 hover:text-slate-200'
      }`}
    >
      {children}
    </Link>
  )
}

/**
 * UserMenu - Dropdown menu for authenticated users
 */
function UserMenu({ user }: { user: User }) {
  const [isOpen, setIsOpen] = useState(false)
  const { signOut } = useAuth()

  return (
    <div className="relative">
      {/* Avatar button */}
      <button
        onClick={() => setIsOpen(!isOpen)}
        className="flex items-center gap-2"
      >
        <img
          src={user.avatarUrl || '/avatars/default.png'}
          alt={user.displayName}
          className="w-8 h-8 rounded-full"
        />
      </button>

      {/* Dropdown menu */}
      {isOpen && (
        <>
          {/* Backdrop to close menu */}
          <div
            className="fixed inset-0 z-10"
            onClick={() => setIsOpen(false)}
          />

          {/* Menu */}
          <div className="absolute right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-20">
            <div className="p-3 border-b border-slate-700">
              <p className="font-medium text-slate-100">{user.displayName}</p>
              <p className="text-sm text-slate-400">@{user.username}</p>
            </div>

            <div className="py-2">
              <MenuItem to={`/users/${user.username}`} icon="ğŸ‘¤">
                Profile
              </MenuItem>
              <MenuItem to="/settings" icon="âš™ï¸">
                Settings
              </MenuItem>
              {user.role === 'admin' && (
                <MenuItem to="/admin" icon="ğŸ›¡ï¸">
                  Admin Panel
                </MenuItem>
              )}
            </div>

            <div className="border-t border-slate-700 py-2">
              <button
                onClick={signOut}
                className="w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-slate-700"
              >
                Sign Out
              </button>
            </div>
          </div>
        </>
      )}
    </div>
  )
}

function MenuItem({ to, icon, children }: { to: string; icon: string; children: React.ReactNode }) {
  return (
    <Link
      to={to}
      className="flex items-center gap-3 px-4 py-2 text-sm text-slate-300 hover:bg-slate-700"
    >
      <span>{icon}</span>
      <span>{children}</span>
    </Link>
  )
}
```

---

## Advanced: <Activity> Component (React 19)

**Problem**: When hiding UI with CSS (`display: none`), the component state is preserved but hidden. When showing again, the state is still there. Sometimes you want to completely unmount/remount.

**Solution**: `<Activity>` hides and restores UI while preserving internal state automatically.

### What is <Activity>?

`<Activity>` is a new React 19 component that:
- âœ… Hides UI without removing from DOM
- âœ… Preserves internal state
- âœ… Restores state when shown again
- âœ… Better than CSS `display: none` for complex components

**Use cases:**
- Modals that preserve form state
- Sidebars that remember scroll position
- Tabs that remember internal state
- Offcanvas menus

### How It Works

```tsx
import { Activity } from 'react'
import { useState } from 'react'

function App() {
  const [showModal, setShowModal] = useState(false)
  
  return (
    <div>
      <button onClick={() => setShowModal(!showModal)}>
        Toggle Modal
      </button>
      
      {/* Activity preserves state inside CreateCategoryModal */}
      <Activity active={showModal}>
        <CreateCategoryModal onClose={() => setShowModal(false)} />
      </Activity>
    </div>
  )
}
```

### Real-World Example: Modal with Form State

```tsx
import { Activity } from 'react'
import { useState } from 'react'

/**
 * Modal component with internal form state
 */
function CreateCategoryModal({ onClose }: { onClose: () => void }) {
  // This state is preserved when modal is hidden with <Activity>
  const [name, setName] = useState('')
  const [description, setDescription] = useState('')
  const [isSubmitting, setIsSubmitting] = useState(false)

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    setIsSubmitting(true)
    
    try {
      await apiClient.post('/categories', { name, description })
      setName('')
      setDescription('')
      onClose()
    } finally {
      setIsSubmitting(false)
    }
  }

  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center">
      <div className="bg-slate-900 p-6 rounded-lg w-full max-w-md">
        <h2 className="text-2xl font-bold mb-4">Create Category</h2>
        
        <form onSubmit={handleSubmit} className="space-y-4">
          <div>
            <label className="block text-sm font-medium mb-2">Name</label>
            <input
              value={name}
              onChange={(e) => setName(e.target.value)}
              placeholder="Category name"
              className="w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg"
            />
          </div>

          <div>
            <label className="block text-sm font-medium mb-2">Description</label>
            <textarea
              value={description}
              onChange={(e) => setDescription(e.target.value)}
              placeholder="Category description"
              className="w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg"
            />
          </div>

          <div className="flex gap-2">
            <button
              type="submit"
              disabled={isSubmitting}
              className="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
            >
              {isSubmitting ? 'Creating...' : 'Create'}
            </button>
            <button
              type="button"
              onClick={onClose}
              className="flex-1 px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600"
            >
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>
  )
}

/**
 * App with modal
 */
export function App() {
  const [showCreateModal, setShowCreateModal] = useState(false)

  return (
    <div>
      <button
        onClick={() => setShowCreateModal(true)}
        className="px-4 py-2 bg-blue-600 text-white rounded-lg"
      >
        Create Category
      </button>

      {/* Activity preserves form state when modal is hidden */}
      <Activity active={showCreateModal}>
        <CreateCategoryModal onClose={() => setShowCreateModal(false)} />
      </Activity>
    </div>
  )
}
```

### <Activity> vs CSS display: none

| Aspect | CSS display | <Activity> |
|--------|------------|-----------|
| **Visibility** | Hidden but in DOM | Hidden, state preserved |
| **State** | Preserved | Preserved automatically |
| **Performance** | Still renders | Doesn't render when hidden |
| **Transitions** | Manual CSS | Built-in support |
| **Use case** | Simple hiding | Complex components |

### Sidebar Example with <Activity>

```tsx
export function App() {
  const [sidebarOpen, setSidebarOpen] = useState(false)

  return (
    <div className="flex">
      {/* Sidebar with Activity */}
      <Activity active={sidebarOpen}>
        <Sidebar onClose={() => setSidebarOpen(false)} />
      </Activity>

      {/* Main content */}
      <main className="flex-1">
        <button onClick={() => setSidebarOpen(!sidebarOpen)}>
          Toggle Sidebar
        </button>
        
        {/* Content here */}
      </main>
    </div>
  )
}

function Sidebar({ onClose }: { onClose: () => void }) {
  // State is preserved when sidebar is hidden
  const [expandedCategory, setExpandedCategory] = useState<string | null>(null)
  const [searchQuery, setSearchQuery] = useState('')

  return (
    <aside className="w-64 bg-slate-900 border-r border-slate-800 p-4">
      <input
        value={searchQuery}
        onChange={(e) => setSearchQuery(e.target.value)}
        placeholder="Search categories..."
        className="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg mb-4"
      />

      {/* Categories with expanded state preserved */}
      {categories.map(cat => (
        <div key={cat.id}>
          <button
            onClick={() => setExpandedCategory(
              expandedCategory === cat.id ? null : cat.id
            )}
          >
            {cat.name}
          </button>

          {expandedCategory === cat.id && (
            <div className="ml-4">
              {/* Subcategories */}
            </div>
          )}
        </div>
      ))}
    </aside>
  )
}
```

### Key Benefits

âœ… **State preservation** - Form data not lost when hiding
âœ… **Better UX** - Users don't lose their progress
âœ… **Automatic** - No manual state management needed
âœ… **Performance** - Doesn't render when hidden
âœ… **Smooth transitions** - Built-in animation support

### When to Use <Activity>

- âœ… Modals with forms
- âœ… Sidebars with internal state
- âœ… Tabs with preserved state
- âœ… Offcanvas menus
- âœ… Hidden sections that need state preservation

---

## Responsive Design

Our navbar adapts to screen size:

**Desktop (â‰¥ 768px):**
- Full navigation links visible
- Search bar visible
- User menu

**Mobile (< 768px):**
- Logo + hamburger menu
- Hidden nav links (show in mobile menu)
- Hidden search (show in mobile menu)

```tsx
// Mobile menu state
const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)

// Mobile menu button
<button
  onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
  className="md:hidden p-2 text-slate-400"
>
  â˜°
</button>

// Mobile menu
{isMobileMenuOpen && (
  <div className="md:hidden absolute top-16 left-0 right-0 bg-slate-900 border-b border-slate-800">
    {/* Mobile nav links */}
  </div>
)}
```

---

## Summary

### Key Concepts

1. **App Shell**: Reusable layout structure
2. **Nested Routes**: Layouts wrap multiple pages
3. **Outlet**: React Router's slot for child routes
4. **Conditional Rendering**: Show/hide sidebar based on route
5. **Responsive Design**: Adapt to screen size

### Layout Patterns

- **Sticky Navbar**: `sticky top-0` stays at top when scrolling
- **Backdrop Blur**: `backdrop-blur` for glassmorphism effect
- **Flexbox Layout**: `flex flex-col` for full-height layout
- **Z-index Layers**: Navbar (50) > Dropdown (20) > Backdrop (10)

---

Next: [Sidebar & Filters â†’](/en/react/2.5.layout/2.sidebar)
